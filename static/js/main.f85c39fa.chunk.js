(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{126:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),c=n.n(o),i=(n(42),n(7)),s=n.n(i),l=n(13),u=n(15),h=n(3),d=(n(44),n(14)),m=n(29),p=n.n(m),f=n(30),b=n.n(f),g=n(31),x=n.n(g),v=n(36),k=n(6),y=n.n(k),w=n(33),S=n.n(w),O=(n(120),n(121),n(122),n(123),n(34)),E=n(35),I="__NOTE_KANU_KIM_FILE_SYSTEM__",j=function(){function e(){Object(O.a)(this,e),this.index=void 0,this.cache=void 0,this.index=this.getIndex(),this.cache={}}return Object(E.a)(e,[{key:"getIndex",value:function(){var e="".concat(I,"/index"),t=localStorage.getItem(e);if(null===t)return localStorage.setItem(e,"[]"),new Set;try{var n=JSON.parse(t);return Array.isArray(n)?new Set(n.filter((function(e){return e.startsWith(I)})).map((function(e){return e.slice(I.length+1,-4)}))):new Set}catch(r){return localStorage.setItem(e,"[]"),new Set}}},{key:"setCurrent",value:function(e){localStorage.setItem("".concat(I,"/current"),null!==e&&void 0!==e?e:"")}},{key:"getFile",value:function(e){var t;return this.index.has(e)?(this.cache[e]||(this.cache[e]=null!==(t=localStorage.getItem("".concat(I,"/").concat(e,".mdx")))&&void 0!==t?t:""),this.cache[e]):null}},{key:"createFile",value:function(e){return!this.index.has(e)&&(console.log("created"),this.index.add(e),this.cache[e]="",localStorage.setItem("".concat(I,"/").concat(e,".mdx"),""),localStorage.setItem("".concat(I,"/index"),JSON.stringify(Array.from(this.index).map((function(e){return"".concat(I,"/").concat(e,".mdx")})))),!0)}},{key:"updateFile",value:function(e,t){if(!this.index.has(e)&&!this.createFile(e))return!1;return this.cache[e]=t,localStorage.setItem("".concat(I,"/").concat(e,".mdx"),t),!0}},{key:"current",get:function(){return localStorage.getItem("".concat(I,"/current"))||null}}]),e}();y.a.config.setModuleUrl("ace/mode/latex",n(124)),y.a.config.setModuleUrl("ace/theme/github",n(125));var M=(new p.a).use(x.a,d).use(b.a),$=new j;var C=function(){var e,t=Object(r.useState)(.5),n=Object(h.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(!1),m=Object(h.a)(i,2),p=m[0],f=m[1],b=Object(r.useState)($.current),g=Object(h.a)(b,2),x=g[0],k=g[1],y=Object(r.useState)($.current&&null!==(e=$.getFile($.current))&&void 0!==e?e:""),w=Object(h.a)(y,2),O=w[0],E=w[1],I=Object(r.useState)(Array.from($.index)),j=Object(h.a)(I,2),C=j[0],_=j[1],F=Object(r.useState)("Import from Hastebin"),A=Object(h.a)(F,2),z=A[0],T=A[1],N=Object(r.useState)("Export to Hastebin"),W=Object(h.a)(N,2),H=W[0],J=W[1];return Object(r.useEffect)((function(){x&&(d.patch(document.getElementById("renderer"),M.renderToIncrementalDOM(O)),$.updateFile(x,O))}),[O,x]),a.a.createElement("div",{style:{width:"100%",height:"100%"},onMouseMove:function(e){p&&c(Math.min(Math.max(e.pageX/window.innerWidth,.15),.85))},onMouseUp:function(){return f(!1)},onMouseLeave:function(){return f(!1)}},a.a.createElement("div",{style:{height:"3rem",backgroundColor:"#2d3748",display:"flex",alignItems:"center"}},a.a.createElement("div",{style:{width:"20rem",fontFamily:"Computer Modern Typewriter",padding:"0.25rem 0.5rem",zIndex:10}},a.a.createElement(v.a,{isClearable:!0,placeholder:"Select a file",options:C.map((function(e){return{label:e,value:e}})),value:x?{label:x,value:x}:void 0,styles:{menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{zIndex:9999})}},onChange:function(e,t){if(console.log(e,t),"create-option"===t.action){if(!e)return;var n=e.value;$.createFile(n),_(Array.from($.index)),k(n),$.setCurrent(n),E("")}else if("select-option"===t.action){if(!e)return;var r=e.value,a=$.getFile(r);k(r),$.setCurrent(r),E(null!==a&&void 0!==a?a:"")}else"clear"===t.action&&(k(null),$.setCurrent(null),E(""))}})),a.a.createElement("div",{className:"hastebin-button",onClick:Object(l.a)(s.a.mark((function e(){var t,n,r,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Importing..."!==z){e.next=2;break}return e.abrupt("return");case 2:if(null!==(t=prompt("Please enter the url or the key of hastebin document","https://hastebin.com/about"))){e.next=5;break}return e.abrupt("return");case 5:if(n=t,!t.includes("hastebin.com/")){e.next=11;break}if(r=t.match(/(?<=hastebin.com\/)[^.]*/)){e.next=10;break}return e.abrupt("return");case 10:n=r[0];case 11:return T("Importing..."),a="https://cors-anywhere.herokuapp.com/https://hastebin.com/raw/".concat(n),e.prev=13,o="hastebin:".concat(n),e.next=17,fetch(a);case 17:return e.next=19,e.sent.text();case 19:c=e.sent,$.createFile(o),$.updateFile(o,c),_(Array.from($.index)),k(o),$.setCurrent(o),E(c),T("Import from Hastebin"),e.next=34;break;case 29:return e.prev=29,e.t0=e.catch(13),console.log(e.t0),T(e.t0.toString()),e.abrupt("return");case 34:case"end":return e.stop()}}),e,null,[[13,29]])})))},z),a.a.createElement("div",{className:"hastebin-button",onClick:Object(l.a)(s.a.mark((function e(){var t,n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===x||void 0===x?void 0:x.startsWith("hastebin:"))){e.next=4;break}return t=x.slice("hastebin:".length),window.open("https://hastebin.com/".concat(t,".md")),e.abrupt("return");case 4:if("Exporting..."!==H){e.next=6;break}return e.abrupt("return");case 6:if(""!==O){e.next=8;break}return e.abrupt("return");case 8:return J("Exporting..."),"https://cors-anywhere.herokuapp.com/https://hastebin.com/documents",e.prev=10,e.next=13,fetch("https://cors-anywhere.herokuapp.com/https://hastebin.com/documents",{method:"POST",body:O});case 13:return e.next=15,e.sent.json();case 15:n=e.sent,r=n.key,window.open("https://hastebin.com/".concat(r,".md")),J("Export to Hastebin"),a="hastebin:".concat(r),$.createFile(a),$.updateFile(a,O),_(Array.from($.index)),k(a),$.setCurrent(a),E(O),e.next=33;break;case 28:return e.prev=28,e.t0=e.catch(10),console.log(e.t0),J(e.t0.toString()),e.abrupt("return");case 33:case"end":return e.stop()}}),e,null,[[10,28]])})))},H)),a.a.createElement("div",{style:{display:"flex",width:"100%",height:"calc(100% - 3rem)"}},a.a.createElement("div",{style:{boxSizing:"border-box",padding:"1rem 1.5rem 1.5rem",width:"".concat(100*o,"%"),height:"100%",backgroundColor:"#eae8ec"}},a.a.createElement(S.a,{mode:"latex",theme:"github",onChange:E,value:O,width:"100%",height:"100%",editorProps:{$blockScrolling:!0},wrapEnabled:!0,style:{borderRadius:"0.75rem",boxShadow:"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"},readOnly:null===x})),a.a.createElement("div",{id:"renderer",style:{width:"".concat(100*(1-o),"%"),height:"100%",boxSizing:"border-box",padding:"1rem 1.5rem 1.5rem",fontSize:"1.05rem",overflowY:"auto"}},x?null:a.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontSize:"1.2rem"}},a.a.createElement("span",null,"Open a file to edit!")))),a.a.createElement("div",{id:"separator",style:{boxSizing:"border-box",marginLeft:"".concat(100*o,"vw")},onMouseDownCapture:function(){return f(!0)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},30:function(e,t,n){"use strict";var r=n(101);function a(e,t){var n,r,a=e.posMax,o=!0,c=!0;return n=t>0?e.src.charCodeAt(t-1):-1,r=t+1<=a?e.src.charCodeAt(t+1):-1,(32===n||9===n||r>=48&&r<=57)&&(c=!1),32!==r&&9!==r||(o=!1),{can_open:o,can_close:c}}function o(e,t){var n,r,o,c;if("$"!==e.src[e.pos])return!1;if(!a(e,e.pos).can_open)return t||(e.pending+="$"),e.pos+=1,!0;for(r=n=e.pos+1;-1!==(r=e.src.indexOf("$",r));){for(c=r-1;"\\"===e.src[c];)c-=1;if((r-c)%2==1)break;r+=1}return-1===r?(t||(e.pending+="$"),e.pos=n,!0):r-n===0?(t||(e.pending+="$$"),e.pos=n+1,!0):a(e,r).can_close?(t||((o=e.push("math_inline","math",0)).markup="$",o.content=e.src.slice(n,r)),e.pos=r+1,!0):(t||(e.pending+="$"),e.pos=n,!0)}function c(e,t,n,r){var a,o,c,i,s,l=!1,u=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(u+2>h)return!1;if("$$"!==e.src.slice(u,u+2))return!1;if(u+=2,a=e.src.slice(u,h),r)return!0;for("$$"===a.trim().slice(-2)&&(a=a.trim().slice(0,-2),l=!0),c=t;!l&&!(++c>=n)&&!((u=e.bMarks[c]+e.tShift[c])<(h=e.eMarks[c])&&e.tShift[c]<e.blkIndent);)"$$"===e.src.slice(u,h).trim().slice(-2)&&(i=e.src.slice(0,h).lastIndexOf("$$"),o=e.src.slice(u,i),l=!0);return e.line=c+1,(s=e.push("math_block","math",0)).block=!0,s.content=(a&&a.trim()?a+"\n":"")+e.getLines(t+1,c,e.tShift[t],!0)+(o&&o.trim()?o:""),s.map=[t,e.line],s.markup="$$",!0}e.exports=function(e,t){t=t||{};e.inline.ruler.after("escape","math_inline",o),e.block.ruler.after("blockquote","math_block",c,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=function(e,n){return function(e){t.displayMode=!1;try{return r.renderToString(e,t)}catch(n){return t.throwOnError&&console.log(n),e}}(e[n].content)},e.renderer.rules.math_block=function(e,n){return function(e){t.displayMode=!0;try{return"<p>"+r.renderToString(e,t)+"</p>"}catch(n){return t.throwOnError&&console.log(n),e}}(e[n].content)+"\n"}}},37:function(e,t,n){e.exports=n(126)},42:function(e,t,n){},44:function(e,t,n){}},[[37,1,2]]]);
//# sourceMappingURL=main.f85c39fa.chunk.js.map