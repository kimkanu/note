(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{336:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),c=n.n(o),i=(n(47),n(3)),s=n.n(i),u=n(15),l=n(2),d=n(8),p=(n(49),n(14)),h=n(34),m=n.n(h),f=n(35),b=n.n(f),g=n(36),x=n.n(g),v=n(41),y=n(38),w=n(39),k="__NOTE_KANU_KIM_FILE_SYSTEM__",S=function(){function e(){Object(y.a)(this,e),this.index=void 0,this.cache=void 0,this.index=this.getIndex(),this.cache={}}return Object(w.a)(e,[{key:"getIndex",value:function(){var e="".concat(k,"/index"),t=localStorage.getItem(e);if(null===t)return localStorage.setItem(e,"[]"),new Set;try{var n=JSON.parse(t);return Array.isArray(n)?new Set(n.filter((function(e){return e.startsWith(k)})).map((function(e){return e.slice(k.length+1,-4)}))):new Set}catch(r){return localStorage.setItem(e,"[]"),new Set}}},{key:"setCurrent",value:function(e){localStorage.setItem("".concat(k,"/current"),null!==e&&void 0!==e?e:"")}},{key:"getFile",value:function(e){var t;return this.index.has(e)?(this.cache[e]||(this.cache[e]=null!==(t=localStorage.getItem("".concat(k,"/").concat(e,".mdx")))&&void 0!==t?t:""),this.cache[e]):null}},{key:"createFile",value:function(e){return!this.index.has(e)&&(console.log("created"),this.index.add(e),this.cache[e]="",localStorage.setItem("".concat(k,"/").concat(e,".mdx"),""),localStorage.setItem("".concat(k,"/index"),JSON.stringify(Array.from(this.index).map((function(e){return"".concat(k,"/").concat(e,".mdx")})))),!0)}},{key:"updateFile",value:function(e,t){if(!this.index.has(e)&&!this.createFile(e))return!1;return this.cache[e]=t,localStorage.setItem("".concat(k,"/").concat(e,".mdx"),t),!0}},{key:"current",get:function(){return localStorage.getItem("".concat(k,"/current"))||null}}]),e}(),O=n(7),j=n.n(O),E=n(40),I=n.n(E),C=(n(123),n(124),n(125),n(126),n(127),n(128)),M=n(144);C.registerLanguage("latex",M),C.registerLanguage("tex",M),j.a.config.setModuleUrl("ace/mode/markdown",n(145)),j.a.config.setModuleUrl("ace/theme/github",n(146));var $=new m.a({linkify:!0}).use(x.a,p).use(n(147)).use(b.a).use(n(148),{inline:!0}),_=new S;function F(e){return A.apply(this,arguments)}function A(){return(A=Object(d.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new window.FileReader).readAsDataURL(t),e.abrupt("return",new Promise((function(e){n.onloadend=function(){e(n.result)}})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){var e,t=Object(r.useState)(.5),n=Object(l.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(!1),h=Object(l.a)(i,2),m=h[0],f=h[1],b=Object(r.useState)(_.current),g=Object(l.a)(b,2),x=g[0],y=g[1],w=Object(r.useState)(_.current&&null!==(e=_.getFile(_.current))&&void 0!==e?e:""),k=Object(l.a)(w,2),S=k[0],O=k[1],j=Object(r.useState)(Array.from(_.index)),E=Object(l.a)(j,2),C=E[0],M=E[1],A=Object(r.useState)("Import from Hastebin"),T=Object(l.a)(A,2),z=T[0],L=T[1],P=Object(r.useState)("Export to Hastebin"),N=Object(l.a)(P,2),R=N[0],D=N[1],U=Object(r.useState)(!1),q=Object(l.a)(U,2),B=q[0],H=q[1];return Object(r.useEffect)((function(){x&&(p.patch(document.getElementById("renderer"),$.renderToIncrementalDOM(S)),_.updateFile(x,S))}),[S,x]),Object(r.useEffect)((function(){navigator.permissions.query({name:"clipboard-read"}).then((function(e){"prompt"===e.state?navigator.clipboard.read():"granted"===e.state&&H(!0)})).catch((function(){return console.info("Clipboard API is not supported")}))}),[B]),a.a.createElement("div",{style:{width:"100%",height:"100%"},onMouseMove:function(e){m&&c(Math.min(Math.max(e.pageX/window.innerWidth,.15),.85))},onMouseUp:function(){return f(!1)},onMouseLeave:function(){return f(!1)}},a.a.createElement("div",{style:{height:"3rem",backgroundColor:"#2d3748",display:"flex",alignItems:"center"}},a.a.createElement("div",{style:{width:"20rem",fontFamily:"Computer Modern Typewriter",padding:"0.25rem 0.5rem",zIndex:10}},a.a.createElement(v.a,{isClearable:!0,placeholder:"Select a file",options:C.map((function(e){return{label:e,value:e}})),value:x?{label:x,value:x}:void 0,styles:{menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{zIndex:9999})}},onChange:function(e,t){if("create-option"===t.action){if(!e)return;var n=e.value;_.createFile(n),M(Array.from(_.index)),y(n),_.setCurrent(n),O("")}else if("select-option"===t.action){if(!e)return;var r=e.value,a=_.getFile(r);y(r),_.setCurrent(r),O(null!==a&&void 0!==a?a:"")}else"clear"===t.action&&(y(null),_.setCurrent(null),O(""))}})),a.a.createElement("div",{className:"hastebin-button",onClick:Object(d.a)(s.a.mark((function e(){var t,n,r,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Importing..."!==z){e.next=2;break}return e.abrupt("return");case 2:if(null!==(t=prompt("Please enter the url or the key of hastebin document","https://hastebin.com/about"))){e.next=5;break}return e.abrupt("return");case 5:if(n=t,!t.includes("hastebin.com/")){e.next=11;break}if(r=t.match(/(?<=hastebin.com\/)[^.]*/)){e.next=10;break}return e.abrupt("return");case 10:n=r[0];case 11:return L("Importing..."),a="https://cors-anywhere.herokuapp.com/https://hastebin.com/raw/".concat(n),e.prev=13,o="hastebin:".concat(n),e.next=17,fetch(a);case 17:return e.next=19,e.sent.text();case 19:c=e.sent,_.createFile(o),_.updateFile(o,c),M(Array.from(_.index)),y(o),_.setCurrent(o),O(c),L("Import from Hastebin"),e.next=34;break;case 29:return e.prev=29,e.t0=e.catch(13),console.log(e.t0),L(e.t0.toString()),e.abrupt("return");case 34:case"end":return e.stop()}}),e,null,[[13,29]])})))},z),a.a.createElement("div",{className:"hastebin-button",onClick:Object(d.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Exporting..."!==R){e.next=2;break}return e.abrupt("return");case 2:if(""!==S){e.next=4;break}return e.abrupt("return");case 4:return D("Exporting..."),"https://cors-anywhere.herokuapp.com/https://hastebin.com/documents",e.prev=6,e.next=9,fetch("https://cors-anywhere.herokuapp.com/https://hastebin.com/documents",{method:"POST",body:S});case 9:return e.next=11,e.sent.json();case 11:t=e.sent,n=t.key,window.open("https://hastebin.com/".concat(n,".md")),D("Export to Hastebin"),r="hastebin:".concat(n),_.createFile(r),_.updateFile(r,S),M(Array.from(_.index)),y(r),_.setCurrent(r),O(S),e.next=29;break;case 24:return e.prev=24,e.t0=e.catch(6),console.log(e.t0),D(e.t0.toString()),e.abrupt("return");case 29:case"end":return e.stop()}}),e,null,[[6,24]])})))},R)),a.a.createElement("div",{style:{display:"flex",width:"100%",height:"calc(100% - 3rem)"}},a.a.createElement("div",{style:{boxSizing:"border-box",padding:"1rem 1.5rem 1.5rem",width:"".concat(100*o,"%"),height:"100%",backgroundColor:"#eae8ec"}},a.a.createElement(I.a,{mode:"latex",theme:"github",onChange:O,value:S,width:"100%",height:"100%",editorProps:{$blockScrolling:!0},wrapEnabled:!0,style:{borderRadius:"0.75rem",boxShadow:"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"},readOnly:null===x,onLoad:function(e){navigator.permissions.query({name:"clipboard-read"}).then((function(t){"prompt"!==t.state&&"granted"!==t.state||e.commands.addCommand({name:"customPaste",bindKey:{win:"Ctrl-V",mac:"Command-V"},exec:function(){var t=Object(d.a)(s.a.mark((function t(){var n,r,a,o,c,i,u,d,p,h,m;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.read();case 2:if(n=t.sent,r=Object(l.a)(n,1),"text/plain"!==(a=r[0]).types[0]){t.next=17;break}return t.t0=e.session,t.t1=e.selection.getRange(),t.next=10,a.getType("text/plain");case 10:return t.next=12,t.sent.text();case 12:t.t2=t.sent,t.t0.replace.call(t.t0,t.t1,t.t2),o=e.selection.getRange().end,c=o.row,i=o.column,e.clearSelection(),e.selection.moveCursorTo(c,i);case 17:if("image/png"!==a.types[0]){t.next=37;break}return u=new FormData,t.t3=F,t.next=22,a.getType("image/png");case 22:return t.t4=t.sent,t.next=25,(0,t.t3)(t.t4);case 25:return d=t.sent,u.append("image",d.slice(22)),t.next=29,fetch("https://api.imgur.com/3/image",{method:"POST",headers:{Authorization:"Client-ID 7e06dc2fe0a78bb"},body:u});case 29:return p=t.sent,t.next=32,p.json();case 32:h=t.sent,m=h.data.link,e.session.replace(e.selection.getRange(),"![](".concat(m,")")),console.log(e),e.selection.moveCursorBy(0,-m.length-3);case 37:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})})).catch((function(){}))}})),a.a.createElement("div",{id:"renderer",style:{width:"".concat(100*(1-o),"%"),height:"100%",boxSizing:"border-box",padding:"1rem 1.5rem 1.5rem",fontSize:"1.05rem",overflowY:"auto"}},x?null:a.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontSize:"1.2rem"}},a.a.createElement("span",null,"Open a file to edit!")))),a.a.createElement("div",{id:"separator",style:{boxSizing:"border-box",marginLeft:"".concat(100*o,"vw")},onMouseDownCapture:function(){return f(!0)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){"use strict";var r=n(104);function a(e,t){var n,r,a=e.posMax,o=!0,c=!0;return n=t>0?e.src.charCodeAt(t-1):-1,r=t+1<=a?e.src.charCodeAt(t+1):-1,(32===n||9===n||r>=48&&r<=57)&&(c=!1),32!==r&&9!==r||(o=!1),{can_open:o,can_close:c}}function o(e,t){var n,r,o,c;if("$"!==e.src[e.pos])return!1;if(!a(e,e.pos).can_open)return t||(e.pending+="$"),e.pos+=1,!0;for(r=n=e.pos+1;-1!==(r=e.src.indexOf("$",r));){for(c=r-1;"\\"===e.src[c];)c-=1;if((r-c)%2==1)break;r+=1}return-1===r?(t||(e.pending+="$"),e.pos=n,!0):r-n===0?(t||(e.pending+="$$"),e.pos=n+1,!0):a(e,r).can_close?(t||((o=e.push("math_inline","math",0)).markup="$",o.content=e.src.slice(n,r)),e.pos=r+1,!0):(t||(e.pending+="$"),e.pos=n,!0)}function c(e,t,n,r){var a,o,c,i,s,u=!1,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(l+2>d)return!1;if("$$"!==e.src.slice(l,l+2))return!1;if(l+=2,a=e.src.slice(l,d),r)return!0;for("$$"===a.trim().slice(-2)&&(a=a.trim().slice(0,-2),u=!0),c=t;!u&&!(++c>=n)&&!((l=e.bMarks[c]+e.tShift[c])<(d=e.eMarks[c])&&e.tShift[c]<e.blkIndent);)"$$"===e.src.slice(l,d).trim().slice(-2)&&(i=e.src.slice(0,d).lastIndexOf("$$"),o=e.src.slice(l,i),u=!0);return e.line=c+1,(s=e.push("math_block","math",0)).block=!0,s.content=(a&&a.trim()?a+"\n":"")+e.getLines(t+1,c,e.tShift[t],!0)+(o&&o.trim()?o:""),s.map=[t,e.line],s.markup="$$",!0}e.exports=function(e,t){t=t||{};e.inline.ruler.after("escape","math_inline",o),e.block.ruler.after("blockquote","math_block",c,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=function(e,n){return function(e){t.displayMode=!1;try{return r.renderToString(e,t)}catch(n){return t.throwOnError&&console.log(n),e}}(e[n].content)},e.renderer.rules.math_block=function(e,n){return function(e){t.displayMode=!0;try{return"<p>"+r.renderToString(e,t)+"</p>"}catch(n){return t.throwOnError&&console.log(n),e}}(e[n].content)+"\n"}}},42:function(e,t,n){e.exports=n(336)},47:function(e,t,n){},49:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.d8566ede.chunk.js.map