(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{336:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(6),o=n.n(c),i=(n(47),n(15)),s=n(2),u=n.n(s),l=n(3),d=n(4),m=(n(49),n(14)),p=n(34),h=n.n(p),f=n(35),b=n.n(f),g=n(36),x=n.n(g),v=n(41),w=n(38),y=n(39),k="__NOTE_KANU_KIM_FILE_SYSTEM__",S=function(){function e(){Object(w.a)(this,e),this.index=void 0,this.cache=void 0,this.index=this.getIndex(),this.cache={}}return Object(y.a)(e,[{key:"getIndex",value:function(){var e="".concat(k,"/index"),t=localStorage.getItem(e);if(null===t)return localStorage.setItem(e,"[]"),new Set;try{var n=JSON.parse(t);return Array.isArray(n)?new Set(n.filter((function(e){return e.startsWith(k)})).map((function(e){return e.slice(k.length+1,-4)}))):new Set}catch(r){return localStorage.setItem(e,"[]"),new Set}}},{key:"setCurrent",value:function(e){localStorage.setItem("".concat(k,"/current"),null!==e&&void 0!==e?e:"")}},{key:"getFile",value:function(e){var t;return this.index.has(e)?(this.cache[e]||(this.cache[e]=null!==(t=localStorage.getItem("".concat(k,"/").concat(e,".mdx")))&&void 0!==t?t:""),this.cache[e]):null}},{key:"createFile",value:function(e){return!this.index.has(e)&&(console.log("created"),this.index.add(e),this.cache[e]="",localStorage.setItem("".concat(k,"/").concat(e,".mdx"),""),localStorage.setItem("".concat(k,"/index"),JSON.stringify(Array.from(this.index).map((function(e){return"".concat(k,"/").concat(e,".mdx")})))),!0)}},{key:"updateFile",value:function(e,t){if(!this.index.has(e)&&!this.createFile(e))return!1;return this.cache[e]=t,localStorage.setItem("".concat(k,"/").concat(e,".mdx"),t),!0}},{key:"current",get:function(){return localStorage.getItem("".concat(k,"/current"))||null}}]),e}(),O=n(8),C=n.n(O),j=n(40),E=n.n(j),I=(n(123),n(124),n(125),n(126),n(127),n(128)),T=n(144);I.registerLanguage("latex",T),I.registerLanguage("tex",T),C.a.config.setModuleUrl("ace/mode/markdown",n(145)),C.a.config.setModuleUrl("ace/theme/github",n(146));var M=new h.a({linkify:!0}).use(x.a,m).use(n(147)).use(b.a).use(n(148),{inline:!0}),$=new S;function _(e){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new window.FileReader).readAsDataURL(t),e.abrupt("return",new Promise((function(e){n.onloadend=function(){e(n.result)}})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===e.getSelectedText().length&&(e.selection.clearSelection(),e.selection.moveCursorLineStart(),e.selection.selectLineEnd()),r){var a=e.getSelectedText().length-e.getSelectedText().trimStart().length,c=e.getSelectedText().length-e.getSelectedText().trimEnd().length;if(a>0||c>0){var o=e.selection.getRange(),i=o.start,s=o.end;e.selection.clearSelection(),e.selection.moveCursorTo(i.row,i.column+a),e.selection.selectTo(s.row,s.column-c)}}e.session.replace(e.selection.getRange(),"".concat(t).concat(e.getSelectedText()).concat(n))}var L=null;var R=a.a.memo((function(e){var t=e.content,n=e.setContent,r=e.currentFileName;return a.a.createElement(E.a,{mode:"latex",theme:"github",onChange:n,value:t,width:"100%",height:"100%",editorProps:{$blockScrolling:!0},style:{borderRadius:"0.75rem",boxShadow:"0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)"},readOnly:null===r,onLoad:function(e){L=e,e.setOption("wrap",!0),e.commands.addCommand({name:"centering",bindKey:{win:"Alt-C",mac:"Option-C"},exec:function(){try{A(e,"-> "," <-")}catch(t){}}}),e.commands.addCommand({name:"bold",bindKey:{win:"Ctrl-B",mac:"Command-B"},exec:function(){try{A(e,"**","**",!0)}catch(t){}}}),e.commands.addCommand({name:"italic",bindKey:{win:"Ctrl-I",mac:"Command-I"},exec:function(){try{A(e,"_","_",!0)}catch(t){}}}),e.commands.addCommand({name:"wordWrap",bindKey:{win:"Alt-Z",mac:"Option-Z"},exec:function(){e.setOption("wrap","off"===e.getOption("wrap"))}}),e.commands.addCommand({name:"cut",bindKey:{win:"Ctrl-X",mac:"Command-X"},exec:function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===e.getSelectedText().length&&e.selection.selectLine(),t.next=4,navigator.clipboard.writeText(e.getSelectedText());case 4:e.session.replace(e.selection.getRange(),""),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()}),navigator.permissions.query({name:"clipboard-read"}).then((function(t){"prompt"!==t.state&&"granted"!==t.state||e.commands.addCommand({name:"customPaste",bindKey:{win:"Ctrl-V",mac:"Command-V"},exec:function(){var t=Object(d.a)(u.a.mark((function t(){var n,r,a,c,o,i,s,d,m,p,h;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.read();case 2:if(n=t.sent,r=Object(l.a)(n,1),"text/plain"!==(a=r[0]).types[0]){t.next=17;break}return t.t0=e.session,t.t1=e.selection.getRange(),t.next=10,a.getType("text/plain");case 10:return t.next=12,t.sent.text();case 12:t.t2=t.sent,t.t0.replace.call(t.t0,t.t1,t.t2),c=e.selection.getRange().end,o=c.row,i=c.column,e.clearSelection(),e.selection.moveCursorTo(o,i);case 17:if("image/png"!==a.types[0]){t.next=36;break}return s=new FormData,t.t3=_,t.next=22,a.getType("image/png");case 22:return t.t4=t.sent,t.next=25,(0,t.t3)(t.t4);case 25:return d=t.sent,s.append("image",d.slice(22)),t.next=29,fetch("https://api.imgur.com/3/image",{method:"POST",headers:{Authorization:"Client-ID 7e06dc2fe0a78bb"},body:s});case 29:return m=t.sent,t.next=32,m.json();case 32:p=t.sent,h=p.data.link,e.session.replace(e.selection.getRange(),"![](".concat(h,")")),e.selection.moveCursorBy(0,-h.length-3);case 36:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})})).catch((function(){}))}})})),z=function(){var e,t=Object(r.useState)(.5),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(!1),p=Object(l.a)(s,2),h=p[0],f=p[1],b=Object(r.useState)($.current),g=Object(l.a)(b,2),x=g[0],w=g[1],y=Object(r.useState)($.current&&null!==(e=$.getFile($.current))&&void 0!==e?e:""),k=Object(l.a)(y,2),S=k[0],O=k[1],C=Object(r.useState)(Array.from($.index)),j=Object(l.a)(C,2),E=j[0],I=j[1],T=Object(r.useState)("Import from Hastebin"),_=Object(l.a)(T,2),F=_[0],A=_[1],z=Object(r.useState)("Export to Hastebin"),K=Object(l.a)(z,2),N=K[0],B=K[1],D=Object(r.useState)(!1),P=Object(l.a)(D,2),H=P[0],W=P[1];function q(e){return U.apply(this,arguments)}function U(){return(U=Object(d.a)(u.a.mark((function e(t){var n,r,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,!t.includes("hastebin.com/")){e.next=6;break}if(r=t.match(/(?<=hastebin.com\/)[^.]*/)){e.next=5;break}return e.abrupt("return");case 5:n=r[0];case 6:return A("Importing..."),a="https://cors-anywhere.herokuapp.com/https://hastebin.com/raw/".concat(n),e.prev=8,c="hastebin:".concat(n),e.next=12,fetch(a);case 12:return e.next=14,e.sent.text();case 14:if('{"message":"Document not found."}'!==(o=e.sent)){e.next=19;break}return alert("Document not found."),A("Import from Hastebin"),e.abrupt("return");case 19:$.createFile(c),$.updateFile(c,o),I(Array.from($.index)),w(c),$.setCurrent(c),O(o),A("Import from Hastebin"),e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(8),A(e.t0.toString()),e.abrupt("return");case 32:case"end":return e.stop()}}),e,null,[[8,28]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(window.location.hash&&window.location.hash.length>1)){e.next=5;break}return t=window.location.hash.slice(1),e.next=4,q(t);case 4:window.location.hash="";case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(r.useEffect)((function(){if(x){var e=function(e){return e.split("\n").filter((function(e){return!e.startsWith("%")})).join("\n")}(S);try{m.patch(document.getElementById("renderer"),M.renderToIncrementalDOM(e))}catch(t){document.getElementById("renderer").innerHTML=M.render(e)}$.updateFile(x,S)}}),[S,x]),Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.permissions.query({name:"clipboard-read"});case 3:if("prompt"!==(t=e.sent).state){e.next=8;break}navigator.clipboard.read(),e.next=10;break;case 8:if("granted"===t.state){e.next=10;break}throw new Error;case 10:return e.next=12,navigator.permissions.query({name:"clipboard-write"});case 12:if("prompt"!==(n=e.sent).state){e.next=17;break}navigator.clipboard.write(),e.next=22;break;case 17:if("granted"!==n.state){e.next=21;break}W(!0),e.next=22;break;case 21:throw new Error;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.info("Clipboard API is not supported");case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))()}),[H]),a.a.createElement("div",{style:{width:"100%",height:"100%"},onMouseMove:function(e){h&&o(Math.min(Math.max(e.pageX/window.innerWidth,.15),.85))},onMouseUp:function(){f(!1),L&&"off"!==L.getOption("wrap")&&(L.setOption("wrap",!1),L.setOption("wrap",!0))},onMouseLeave:function(){return f(!1)}},a.a.createElement("div",{style:{height:"3rem",backgroundColor:"#2d3748",display:"flex",alignItems:"center"}},a.a.createElement("div",{style:{width:"20rem",fontFamily:"Computer Modern Typewriter",padding:"0.25rem 0.5rem",zIndex:10}},a.a.createElement(v.a,{isClearable:!0,placeholder:"Select a file",options:E.map((function(e){return{label:e,value:e}})),value:x?{label:x,value:x}:void 0,styles:{menu:function(e){return Object(i.a)(Object(i.a)({},e),{},{zIndex:9999})}},onChange:function(e,t){if("create-option"===t.action){if(!e)return;var n=e.value;$.createFile(n),I(Array.from($.index)),w(n),$.setCurrent(n),O("")}else if("select-option"===t.action){if(!e)return;var r=e.value,a=$.getFile(r);w(r),$.setCurrent(r),O(null!==a&&void 0!==a?a:"")}else"clear"===t.action&&(w(null),$.setCurrent(null),O(""))}})),a.a.createElement("div",{className:"hastebin-button",onClick:Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Importing..."!==F){e.next=2;break}return e.abrupt("return");case 2:if(null!==(t=prompt("Please enter the url or the key of hastebin document","https://hastebin.com/about"))){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,q(t);case 7:case"end":return e.stop()}}),e)})))},F),a.a.createElement("div",{className:"hastebin-button",onClick:Object(d.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Exporting..."!==N){e.next=2;break}return e.abrupt("return");case 2:if(""!==S){e.next=4;break}return e.abrupt("return");case 4:return B("Exporting..."),"https://cors-anywhere.herokuapp.com/https://hastebin.com/documents",e.prev=6,e.next=9,fetch("https://cors-anywhere.herokuapp.com/https://hastebin.com/documents",{method:"POST",body:S});case 9:return e.next=11,e.sent.json();case 11:t=e.sent,n=t.key,window.open("https://hastebin.com/".concat(n,".md")),B("Export to Hastebin"),r="hastebin:".concat(n),$.createFile(r),$.updateFile(r,S),I(Array.from($.index)),w(r),$.setCurrent(r),O(S),e.next=28;break;case 24:return e.prev=24,e.t0=e.catch(6),B(e.t0.toString()),e.abrupt("return");case 28:case"end":return e.stop()}}),e,null,[[6,24]])})))},N)),a.a.createElement("div",{style:{display:"flex",width:"100%",height:"calc(100% - 3rem)"}},a.a.createElement("div",{style:{boxSizing:"border-box",padding:"1rem 1.5rem 1.5rem",width:"".concat(100*c,"%"),height:"100%",backgroundColor:"#eae8ec"}},a.a.createElement(R,{content:S,setContent:O,currentFileName:x})),a.a.createElement("div",{id:"renderer",style:{width:"".concat(100*(1-c),"%"),height:"100%",boxSizing:"border-box",padding:"1rem 1.5rem 1.5rem",fontSize:"1.05rem",overflowY:"auto"}},x?null:a.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontStyle:"italic",fontSize:"1.2rem"}},a.a.createElement("span",null,"Open a file to edit!")))),a.a.createElement("div",{id:"separator",style:{boxSizing:"border-box",marginLeft:"".concat(100*c,"vw")},onMouseDownCapture:function(){return f(!0)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){"use strict";var r=n(104);function a(e,t){var n,r,a=e.posMax,c=!0,o=!0;return n=t>0?e.src.charCodeAt(t-1):-1,r=t+1<=a?e.src.charCodeAt(t+1):-1,(32===n||9===n||r>=48&&r<=57)&&(o=!1),32!==r&&9!==r||(c=!1),{can_open:c,can_close:o}}function c(e,t){var n,r,c,o;if("$"!==e.src[e.pos])return!1;if(!a(e,e.pos).can_open)return t||(e.pending+="$"),e.pos+=1,!0;for(r=n=e.pos+1;-1!==(r=e.src.indexOf("$",r));){for(o=r-1;"\\"===e.src[o];)o-=1;if((r-o)%2==1)break;r+=1}return-1===r?(t||(e.pending+="$"),e.pos=n,!0):r-n===0?(t||(e.pending+="$$"),e.pos=n+1,!0):a(e,r).can_close?(t||((c=e.push("math_inline","math",0)).markup="$",c.content=e.src.slice(n,r)),e.pos=r+1,!0):(t||(e.pending+="$"),e.pos=n,!0)}function o(e,t,n,r){var a,c,o,i,s,u=!1,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(l+2>d)return!1;if("$$"!==e.src.slice(l,l+2))return!1;if(l+=2,a=e.src.slice(l,d),r)return!0;for("$$"===a.trim().slice(-2)&&(a=a.trim().slice(0,-2),u=!0),o=t;!u&&!(++o>=n)&&!((l=e.bMarks[o]+e.tShift[o])<(d=e.eMarks[o])&&e.tShift[o]<e.blkIndent);)"$$"===e.src.slice(l,d).trim().slice(-2)&&(i=e.src.slice(0,d).lastIndexOf("$$"),c=e.src.slice(l,i),u=!0);return e.line=o+1,(s=e.push("math_block","math",0)).block=!0,s.content=(a&&a.trim()?a+"\n":"")+e.getLines(t+1,o,e.tShift[t],!0)+(c&&c.trim()?c:""),s.map=[t,e.line],s.markup="$$",!0}e.exports=function(e,t){t=t||{};e.inline.ruler.after("escape","math_inline",c),e.block.ruler.after("blockquote","math_block",o,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=function(e,n){return function(e){t.displayMode=!1;try{return r.renderToString(e,t)}catch(n){return t.throwOnError&&console.log(n),e}}(e[n].content)},e.renderer.rules.math_block=function(e,n){return function(e){t.displayMode=!0;try{return"<p>"+r.renderToString(e,t)+"</p>"}catch(n){return t.throwOnError&&console.log(n),e}}(e[n].content)+"\n"}}},42:function(e,t,n){e.exports=n(336)},47:function(e,t,n){},49:function(e,t,n){}},[[42,1,2]]]);
//# sourceMappingURL=main.582f32b8.chunk.js.map